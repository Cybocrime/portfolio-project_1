"use strict";(self.webpackChunknew_material_ui_tut=self.webpackChunknew_material_ui_tut||[]).push([[354],{9533:(e,t,r)=>{r.d(t,{BC:()=>p,IG:()=>d,Ic:()=>y,Pc:()=>f,Qv:()=>u,db:()=>c,hA:()=>m,j2:()=>l,p4:()=>h,xw:()=>g});var s=r(6255),a=r(4063),i=r(8801),n=r(7330);const o=(0,s.Wp)({apiKey:"AIzaSyBw4R0Ymop0zd8ii4hZlxO4b8R6Nkt4w5Y",authDomain:"sliders-fafac.firebaseapp.com",databaseURL:"https://sliders-fafac-default-rtdb.firebaseio.com",projectId:"sliders-fafac",storageBucket:"sliders-fafac.appspot.com",messagingSenderId:"191649720492",appId:"1:191649720492:web:5156bb1192b9d2393f5709",measurementId:"G-CKXQLWJ2QW"}),l=(0,a.xI)(o),c=(0,i.aU)(o),d=(0,n.c7)(o),m=async(e,t)=>{try{if(t.length<8)throw new Error("Password must be at least 8 characters long.");if(!/[A-Z]/.test(t)||!/[0-9]/.test(t)||!/[!@#$%^&*(),.?":{}|<>]/.test(t))throw new Error("Password must include at least one uppercase letter, one number, and one special character.");if((await(0,a.Wm)(l,e)).length>0)throw new Error("Email already in use.");const r=(await(0,a.eJ)(l,e,t)).user;return await(0,a.gA)(r),r}catch(r){throw console.error("Error during signup:",r.message),r}},u=async(e,t)=>{try{const r=(await(0,a.x9)(l,e,t)).user;if(!r.emailVerified)throw new Error("Please verify your email before logging in.");const s=(0,i.rJ)(c,"sessions"),n=(0,i.P)(s,(0,i._M)("userId","==",r.uid),(0,i._M)("isActive","==",!0)),o=await(0,i.GG)(n);o.empty||o.forEach((async e=>{await(0,i.mZ)((0,i.H9)(c,"sessions",e.id),{isActive:!1})}));return{user:r,sessionId:(await(0,i.gS)(s,{userId:r.uid,email:r.email,loginTime:new Date,isActive:!0})).id}}catch(r){throw console.error("Error during sign-in:",r.message),r}},h=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t=(0,i.rJ)(c,"comments");let r=(0,i.P)(t,(0,i.My)("timestamp","desc"),(0,i.AB)(10));e&&(r=(0,i.P)(t,(0,i.My)("timestamp","desc"),(0,i.HM)(e),(0,i.AB)(10)));const s=await(0,i.GG)(r);return{comments:s.docs.map((e=>{const t=e.data();return{id:e.id,content:t.content,userEmail:t.userEmail,timestamp:t.timestamp?.toDate()||new Date,likes:t.likesUser?.length||0,dislikes:t.dislikesUser?.length||0,replies:t.replies||[],likesUser:t.likesUser||[],dislikesUser:t.dislikesUser||[]}})),lastVisible:s.docs[s.docs.length-1]}}catch(t){throw console.error("Error fetching comments:",t.message),t}},p=async(e,t)=>{try{if(!t||!t.email||!t.userId)throw new Error("User not authenticated.");const r=(0,i.rJ)(c,"comments"),s={userEmail:t.email,userId:t.userId,content:e,timestamp:(0,i.O5)(),likes:0,dislikes:0,adminEmail:"",replies:[],likesUser:[],dislikesUser:[],isEdited:!1,lastEditedTimestamp:null},a=await(0,i.gS)(r,s);return s.id=a.id,s}catch(r){throw console.error("Error adding comment:",r.message),r}},f=async(e,t)=>{try{const r=(0,i.H9)(c,"comments",e),s=await(0,i.x7)(r);if(!s.exists())throw console.error("Document not found for docId:",e),new Error(`Comment with ID ${e} not found.`);console.log("Document fetched successfully:",s.data());const a={likes:t.likes??0,dislikes:t.dislikes??0,likesUser:Array.isArray(t.likesUser)?t.likesUser:[],dislikesUser:Array.isArray(t.dislikesUser)?t.dislikesUser:[]};await(0,i.mZ)(r,a),console.log("Comment updated successfully.")}catch(r){throw console.error("Error updating Firestore document:",r.message),r}},g=async e=>{try{if(!e)throw new Error("Email address is required.");return await(0,a.J1)(l,e),console.log("Password reset email sent successfully to:",e),{success:!0,message:"Password reset email sent."}}catch(t){throw console.error("Error sending password reset email:",t.message),t}},y=async(e,t)=>{try{console.log("Debug: commentDocId passed to addReplyToComment:",e);const r=(0,i.H9)(c,"comments",e);await(0,i.mZ)(r,{replies:(0,i.hq)(t)}),console.log("Reply added successfully to comment:",e)}catch(r){throw console.error("Error adding reply to comment:",r.message),r}}},6758:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var s=r(1014),a=r(9533),i=r(7330),n=r(6643),o=(r(5853),r(6526));const l=()=>{const[e,t]=(0,s.useState)([]),[r,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(1),[m,u]=(0,s.useState)(null),[h,p]=(0,s.useState)(!1),[f,g]=(0,s.useState)(null),y=(0,s.useRef)([]),w=(0,s.useRef)(null),v=async()=>{if(r||0===y.current.length)return;const e=10*(c-1),s=10*c,a=y.current.slice(e,s);t((e=>[...e,...a])),d((e=>e+1))};(0,s.useEffect)((()=>{(async()=>{await(async()=>{l(!0),g(null);try{const e=(0,i.KR)(a.IG,"media"),t=await(0,i._w)(e),r=await Promise.all(t.items.map((e=>(0,i.qk)(e))));y.current=r,l(!1)}catch(e){l(!1),g("Failed to fetch images. Please try again later."),console.error("Error fetching images:",e)}})(),v()})()}),[]),(0,s.useEffect)((()=>{const e=new IntersectionObserver((e=>{let[t]=e;t.isIntersecting&&!r&&v()}),{threshold:1});return w.current&&e.observe(w.current),()=>e.disconnect()}),[c]);return s.createElement("div",null,f&&s.createElement("div",{style:{width:"100%",height:"150px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",borderRadius:"20px",color:"red",fontWeight:"bold"}},f),r&&!f&&s.createElement("div",{style:{width:"100%",height:"150px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",borderRadius:"20px"}},s.createElement(o.A,{size:50})),s.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"4px",pointerEvents:h?"none":"auto",height:h?"100vh":"auto",overflow:h?"hidden":"auto"}},!r&&!f&&e.map(((e,t)=>s.createElement("div",{key:t,className:"lazy-image",style:{width:"100%",height:"150px",backgroundColor:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer",borderRadius:"0px"},onClick:()=>(e=>{h||(u(e),p(!0),document.body.style.overflow="hidden")})(t)},s.createElement("img",{src:e,alt:`Image ${t}`,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"0px"}}))))),s.createElement("div",{ref:w,style:{height:"50px",marginTop:"10px"}}),h&&null!==m&&e[m]&&s.createElement(n.A,{mainSrc:e[m],nextSrc:e[(m+1)%e.length],prevSrc:e[(m+e.length-1)%e.length],onCloseRequest:()=>{p(!1),setTimeout((()=>u(null)),300),document.body.style.overflow="auto"},onMovePrevRequest:()=>{u((m+e.length-1)%e.length)},onMoveNextRequest:()=>{u((m+1)%e.length)},reactModalStyle:{overlay:{zIndex:1301}}}))};var c=r(2362);const d=function(){return s.createElement(c.A,{sx:{padding:2}},s.createElement(l,null))}},6526:(e,t,r)=>{r.d(t,{A:()=>A});var s=r(1014),a=r(8788),i=r(1849),n=r(9555),o=r(9505),l=r(2584),c=r(4039),d=r(9476),m=r(1342),u=r(9115),h=r(3439);function p(e){return(0,h.Ay)("MuiCircularProgress",e)}(0,u.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var f=r(6550);const g=44,y=n.i7`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,w=n.i7`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,v="string"!==typeof y?n.AH`
        animation: ${y} 1.4s linear infinite;
      `:null,k="string"!==typeof w?n.AH`
        animation: ${w} 1.4s ease-in-out infinite;
      `:null,x=(0,o.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${(0,d.A)(r.color)}`]]}})((0,l.A)((e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:v||{animation:`${y} 1.4s linear infinite`}},...Object.entries(t.palette).filter((0,m.A)()).map((e=>{let[r]=e;return{props:{color:r},style:{color:(t.vars||t).palette[r].main}}}))]}}))),b=(0,o.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),E=(0,o.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${(0,d.A)(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})((0,l.A)((e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:k||{animation:`${w} 1.4s ease-in-out infinite`}}]}}))),A=s.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiCircularProgress"}),{className:s,color:n="primary",disableShrink:o=!1,size:l=40,style:m,thickness:u=3.6,value:h=0,variant:y="indeterminate",...w}=r,v={...r,color:n,disableShrink:o,size:l,thickness:u,value:h,variant:y},k=(e=>{const{classes:t,variant:r,color:s,disableShrink:a}=e,n={root:["root",r,`color${(0,d.A)(s)}`],svg:["svg"],circle:["circle",`circle${(0,d.A)(r)}`,a&&"circleDisableShrink"]};return(0,i.A)(n,p,t)})(v),A={},S={},I={};if("determinate"===y){const e=2*Math.PI*((g-u)/2);A.strokeDasharray=e.toFixed(3),I["aria-valuenow"]=Math.round(h),A.strokeDashoffset=`${((100-h)/100*e).toFixed(3)}px`,S.transform="rotate(-90deg)"}return(0,f.jsx)(x,{className:(0,a.A)(k.root,s),style:{width:l,height:l,...S,...m},ownerState:v,ref:t,role:"progressbar",...I,...w,children:(0,f.jsx)(b,{className:k.svg,ownerState:v,viewBox:"22 22 44 44",children:(0,f.jsx)(E,{className:k.circle,style:A,ownerState:v,cx:g,cy:g,r:(g-u)/2,fill:"none",strokeWidth:u})})})}))}}]);
//# sourceMappingURL=354.99745cf0.chunk.js.map